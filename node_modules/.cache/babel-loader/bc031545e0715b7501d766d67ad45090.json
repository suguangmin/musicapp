{"remainingRequest":"/Users/gm/Desktop/音乐前端/musicapp/node_modules/babel-loader/lib/index.js!/Users/gm/Desktop/音乐前端/musicapp/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/gm/Desktop/音乐前端/musicapp/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/gm/Desktop/音乐前端/musicapp/src/components/musicList.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/gm/Desktop/音乐前端/musicapp/src/components/musicList.vue","mtime":1628886881436},{"path":"/Users/gm/Desktop/音乐前端/musicapp/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/gm/Desktop/音乐前端/musicapp/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/gm/Desktop/音乐前端/musicapp/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/gm/Desktop/音乐前端/musicapp/node_modules/vue-loader-v16/dist/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy9nbS9EZXNrdG9wL1x1OTdGM1x1NEU1MFx1NTI0RFx1N0FFRi9tdXNpY2FwcC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLnRvLWZpeGVkLmpzIjsKaW1wb3J0ICdzd2lwZXIvY3NzL3N3aXBlci5jc3MnOwppbXBvcnQgU3dpcGVyIGZyb20gJ3N3aXBlcic7CmltcG9ydCB7IGdldE11c2ljTGlzdCB9IGZyb20gJ0AvYXBpL2luZGV4LmpzJzsKaW1wb3J0IHsgcmVhY3RpdmUsIG9uTW91bnRlZCwgb25VcGRhdGVkIH0gZnJvbSAndnVlJzsKZXhwb3J0IGRlZmF1bHQgewogIHNldHVwOiBmdW5jdGlvbiBzZXR1cCgpIHsKICAgIHZhciBzdGF0ZSA9IHJlYWN0aXZlKHsKICAgICAgbXVzaWNMaXN0OiBbXQogICAgfSk7CgogICAgZnVuY3Rpb24gY2hhbmdlVmFsdWUobnVtKSB7CiAgICAgIHZhciByZXMgPSAwOwoKICAgICAgaWYgKG51bSA+PSAxMDAwMDAwMDApIHsKICAgICAgICByZXMgPSBudW0gLyAxMDAwMDAwMDA7CiAgICAgICAgcmV0dXJuIHJlcy50b0ZpeGVkKDIpICsgJ+S6vyc7CiAgICAgIH0gZWxzZSBpZiAobnVtID49IDEwMDAwKSB7CiAgICAgICAgcmVzID0gbnVtIC8gMTAwMDA7CiAgICAgICAgcmVzID0gcmVzLnRvRml4ZWQoMikgKyAn5LiHJzsKICAgICAgfQoKICAgICAgcmV0dXJuIHJlczsKICAgIH0KCiAgICBvbk1vdW50ZWQoIC8qI19fUFVSRV9fKi9fYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgIHZhciByZXN1bHQ7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjsKICAgICAgICAgICAgICByZXR1cm4gZ2V0TXVzaWNMaXN0KCk7CgogICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgcmVzdWx0ID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICBzdGF0ZS5tdXNpY0xpc3QgPSByZXN1bHQuZGF0YS5yZXN1bHQ7CiAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzdWx0KTsKCiAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZSk7CiAgICB9KSkpOwogICAgb25VcGRhdGVkKGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIG15U3dpcGVyID0gbmV3IFN3aXBlcignI211c2ljc3dpcGVyJywgewogICAgICAgIHNsaWRlc1BlclZpZXc6IDMsCiAgICAgICAgc3BhY2VCZXR3ZWVuOiAxMAogICAgICB9KTsKICAgIH0pOwogICAgcmV0dXJuIHsKICAgICAgc3RhdGU6IHN0YXRlLAogICAgICBjaGFuZ2VWYWx1ZTogY2hhbmdlVmFsdWUKICAgIH07CiAgfQp9OwovKgpleHBvcnQgZGVmYXVsdCB7CiAgICBkYXRhKCkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIG11c2ljTGlzdDogW10KICAgICAgICB9CiAgICB9LAogICAgbWV0aG9kczogewogICAgICAgIGNoYW5nZVZhbHVlOiBmdW5jdGlvbihudW0pIHsKICAgICAgICAgICAgbGV0IHJlcyA9IDA7CiAgICAgICAgICAgIGlmIChudW0gPj0gMTAwMDAwMDAwKSB7CiAgICAgICAgICAgICAgICByZXMgPSBudW0vMTAwMDAwMDAwOwogICAgICAgICAgICAgICAgcmV0dXJuIHJlcy50b0ZpeGVkKDIpICsgJ+S6vycKICAgICAgICAgICAgfWVsc2UgaWYgKG51bSA+PSAxMDAwMCl7CiAgICAgICAgICAgICAgICByZXMgPSBudW0vMTAwMDAwMDAwOwogICAgICAgICAgICAgICAgcmVzID0gcmVzLnRvRml4ZWQoMikgKyAn5LiHJwogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiByZXMKICAgICAgICB9CiAgICB9LAogICAgbW91bnRlZDogYXN5bmMgZnVuY3Rpb24oKSB7CiAgICAgICAgbGV0IHJlc3VsdCA9IGF3YWl0IGdldE11c2ljTGlzdCgpCiAgICAgICAgdGhpcy5tdXNpY0xpc3QgPSByZXN1bHQuZGF0YS5yZXN1bHQKICAgICAgICBjb25zb2xlLmxvZyhyZXN1bHQpCiAgICB9LAogICAgdXBkYXRlZCgpIHsKICAgICAgICB2YXIgbXlTd2lwZXIgPSBuZXcgU3dpcGVyKCcjbXVzaWNzd2lwZXInLHsKICAgICAgICBzbGlkZXNQZXJWaWV3OiAzLAogICAgICAgIHNwYWNlQmV0d2VlbjogMTAsCiAgICAgIH0pOwogICAgfQp9Ciov"},{"version":3,"sources":["/Users/gm/Desktop/音乐前端/musicapp/src/components/musicList.vue"],"names":[],"mappings":";;;AA2BA,OAAO,uBAAP;AACA,OAAO,MAAP,MAAmB,QAAnB;AACA,SAAQ,YAAR,QAA2B,gBAA3B;AACA,SAAS,QAAT,EAAmB,SAAnB,EAA6B,SAA7B,QAA6C,KAA7C;AAEA,eAAe;AACX,EAAA,KADW,mBACH;AACJ,QAAI,KAAI,GAAI,QAAQ,CAAC;AAAC,MAAA,SAAS,EAAC;AAAX,KAAD,CAApB;;AACA,aAAS,WAAT,CAAsB,GAAtB,EAA2B;AACvB,UAAI,GAAE,GAAI,CAAV;;AACA,UAAI,GAAE,IAAK,SAAX,EAAsB;AAClB,QAAA,GAAE,GAAI,GAAG,GAAC,SAAV;AACA,eAAO,GAAG,CAAC,OAAJ,CAAY,CAAZ,IAAiB,GAAxB;AACH,OAHD,MAGM,IAAI,GAAE,IAAK,KAAX,EAAiB;AACnB,QAAA,GAAE,GAAI,GAAG,GAAC,KAAV;AACA,QAAA,GAAE,GAAI,GAAG,CAAC,OAAJ,CAAY,CAAZ,IAAiB,GAAvB;AACJ;;AACA,aAAO,GAAP;AACJ;;AACA,IAAA,SAAS,uEAAC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBACa,YAAY,EADzB;;AAAA;AACF,cAAA,MADE;AAEN,cAAA,KAAK,CAAC,SAAN,GAAkB,MAAM,CAAC,IAAP,CAAY,MAA9B;AACA,cAAA,OAAO,CAAC,GAAR,CAAY,MAAZ;;AAHM;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAD,GAAT;AAKA,IAAA,SAAS,CAAC,YAAM;AACZ,UAAI,QAAO,GAAI,IAAI,MAAJ,CAAW,cAAX,EAA0B;AACzC,QAAA,aAAa,EAAE,CAD0B;AAEzC,QAAA,YAAY,EAAE;AAF2B,OAA1B,CAAf;AAIH,KALQ,CAAT;AAMA,WAAO;AACH,MAAA,KAAK,EAAL,KADG;AACG,MAAA,WAAU,EAAV;AADH,KAAP;AAGJ;AA5BW,CAAf;AA+BA;AACA;AACI;AACI;AACI;AACJ;AACJ;AACA;AACI;AACI;AACA;AACI;AACA;AACJ;AACI;AACA;AACJ;AACA;AACJ;AACJ;AACA;AACI;AACA;AACA;AACJ;AACA;AACI;AACA;AACA;AACF;AACF;AACJ;AACA","sourcesContent":["<template>\n    <div class=\"musicList\">\n        <div class=\"musicList-top\">\n            <div class=\"title\">发现好歌单</div>\n            <div class=\"more\">查看更多</div>\n        </div>\n        <div class=\"mlist\">\n            <div class=\"swiper-container\" id=\"musicswiper\">\n                <div class=\"swiper-wrapper\">\n                    <!-- <div class=\"swiper-slide\" v-for=\"(item,index) in musicList\" :key=\"index\"> -->\n                        <router-link :to=\"{path:'listview',query:{id:item.id}}\" class=\"swiper-slide\" v-for=\"(item,index) in state.musicList\" :key=\"index\">\n                        <img :src=\"item.picUrl\" :alt=\"item.name\">\n                        <div class=\"name\">{{item.name}}</div>\n                        <div class=\"count\">\n                            <svg class=\"icon search\" aria-hidden=\"true\">\n                                <use xlink:href=\"#icon-bofang1\"></use>\n                            </svg>\n                            <span>{{changeValue(item.playCount)}}</span>\n                        </div>\n                    </router-link>\n                </div>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\nimport 'swiper/css/swiper.css'\nimport Swiper from 'swiper'\nimport {getMusicList} from '@/api/index.js'\nimport { reactive, onMounted,onUpdated} from 'vue'\n\nexport default {\n    setup() {\n        let state = reactive({musicList:[]})\n        function changeValue (num) {\n            let res = 0;\n            if (num >= 100000000) {\n                res = num/100000000;\n                return res.toFixed(2) + '亿'\n            }else if (num >= 10000){\n                res = num/10000;\n                res = res.toFixed(2) + '万'\n            }\n            return res\n        }\n        onMounted(async () => {\n            let result = await getMusicList()\n            state.musicList = result.data.result\n            console.log(result)\n        })\n        onUpdated(() => {\n            var mySwiper = new Swiper('#musicswiper',{\n            slidesPerView: 3,\n            spaceBetween: 10,\n            });\n        })\n        return {\n            state,changeValue\n        }\n    }\n}\n\n/*\nexport default {\n    data() {\n        return {\n            musicList: []\n        }\n    },\n    methods: {\n        changeValue: function(num) {\n            let res = 0;\n            if (num >= 100000000) {\n                res = num/100000000;\n                return res.toFixed(2) + '亿'\n            }else if (num >= 10000){\n                res = num/100000000;\n                res = res.toFixed(2) + '万'\n            }\n            return res\n        }\n    },\n    mounted: async function() {\n        let result = await getMusicList()\n        this.musicList = result.data.result\n        console.log(result)\n    },\n    updated() {\n        var mySwiper = new Swiper('#musicswiper',{\n        slidesPerView: 3,\n        spaceBetween: 10,\n      });\n    }\n}\n*/\n</script>\n\n<style lang=\"less\" scoped>\n.musicList {\n    width: 7.5rem;\n    padding: 0 0.4rem;\n    .musicList-top {\n        display: flex;\n        justify-content:space-between;\n        height: 1rem;\n        align-items: center;\n        .title {\n            font-size: 0.4rem;\n            font-weight: 900;\n        }\n        .more {\n            border: 1px solid #ccc;\n            border-radius: 0.2rem;\n            font-size: 0.24rem;\n            height: 0.5rem;\n            width: 1.2rem;\n            text-align: center;\n            line-height: 0.5rem;\n        }\n    }\n    .mlist {\n        .swiper-container {\n            width: 100%;\n            height: 3rem;\n            .swiper-slide {\n            //background-color: orange;\n            display: flex;\n            flex-direction: column;\n            position: relative;\n            img {\n                width: 100%;\n                height: auto;\n                border-radius: 0.1rem;\n            }\n            .name {\n                height: 0.6rem;\n                width: 100%;\n                font-size: 0.24rem;\n                line-height: 0.4rem;\n            }\n            .count {\n                position: absolute;\n                right: 0.1rem;\n                top: 0.1rem;\n                font-size:0.24rem;\n                color: #ccc;\n                display: flex;\n                align-items: center;\n                .icon {\n                    fill: #ccc;\n                }\n            }\n            }\n        }\n    }\n}\n</style>"],"sourceRoot":""}]}